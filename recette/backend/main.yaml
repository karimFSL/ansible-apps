# backend configuration
root_dir: /apps
apps:
  api-deployment-manager-migration:
    image: harbor.forge.berger-levrault.com/bl-indus/dm/backend/java/migration
    version: "main-79f2f45b" # branch-main, commit-79f2f45b, pipelineId-683106, jobId-2785973
    internal_port: 8008
    external_port: 8008
    type: microservice
    env_vars:
      SPRING_APPLICATION_NAME: Deployment Manager
      SPRING_SECURITY_OAUTH2_APPLICATION_CODE: BL_DEPLOYMENT_MANAGER_RECETTE
      SPRING_SECURITY_OAUTH2_RESOURCESERVER_JWT_ISSUERURI: https://saas.test.auth.berger-levrault.com/auth/realms/saas
      SERVER_PORT: 8008
      SPRING_DATASOURCE_DRIVERCLASSNAME: org.postgresql.Driver
      SPRING_DATASOURCE_URL: jdbc:postgresql://172.30.0.1:5432/migration?ssl=true&sslmode=require
      SPRING_DATASOURCE_USERNAME: postgres
      SPRING_DATASOURCE_PASSWORD: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        63363936373261636433643035323330666132663931353936333735666231613863346566376132
        6239646365393231653466636266376161393664333165310a363162326462663863346237663765
        38613833633335663632313731613139306462623539343162366662333837333664373563313831
        3665653438623039380a626363393438623434663335653434636366626564623638333132623135
        65383031313237353136353234343366316563313132316432646262666635353833
      SPRING_JPA_DATABASEPLATFORM: org.hibernate.dialect.PostgreSQLDialect
      SPRING_JPA_HIBERNATE_DDLAUTO: none
      BL_OMAJE_HOSTNAME_OMAJE_URL_BASE: https://omaje.recette-ubuntu-angular.berger-levrault.fr
      BL_OMAJE_SAAS_AUTH_OIDC_OMAJE_URL: https://saas.test.auth.berger-levrault.com/auth/realms/saas/protocol/openid-connect/token
      BL_OMAJE_SAAS_AUTH_OIDC_USERNAME: deployment-manager-omaje
      BL_OMAJE_SAAS_AUTH_OIDC_PASSWORD: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        62656134333334643261656237643438613434353464643132376433353737666231393836333963
        6565346161636361663932336634663133343739646164360a616536623730636564623335613531
        30623665623335333635396133363633626435313739383362383038323963326663613461643862
        3936663466636530360a343331306438383965366136623064353361613334366562313065343362
        36626235333331313735313036353932656466643836396137663736373137336530
      BL_OMAJE_SAAS_AUTH_OIDC_CLIENT_ID: OMAJE_RECETTE
      SPRING_LIQUIBASE_ENABLED: true
      SPRING_LIQUIBASE_CHANGELOG: classpath:db/changelog/db.changelog-master.yaml
      DM_BLMINT_ENABLED: true
      DM_GLOC_RETENTION_DAYS: 0
      DM_GLOC_BLEXCHANGE_REGISTER_CONSUMERS: false
      DM_GLOC_BLEXCHANGE_STRUCTURE_CONSUMER: structureconsumer
      DM_GLOC_BLEXCHANGE_CONTEXT_CONSUMER: contextconsumer
      DM_GLOC_BLEXCHANGE_CONTEXT_PRODUCER: contextproducer
      DM_GLOC_BLEXCHANGE_CONTEXT_PRODUCER_CODECLIENT: GLOBAL
      BLMINT_MODE: EXCHANGE
      BLMINT_EXCHANGE_CONNECT_URL: https://admin-service.blexchangepreprod.berger-levrault.com/api/v2/information
      BLMINT_EXCHANGE_CONNECT_APPNAME: DEPLOYMENT-MANAGER
      BLMINT_EXCHANGE_CONNECT_PRODUCTLINE: DIAC
      BLMINT_EXCHANGE_CONNECT_DEPLOYMENTTYPE: SAAS
      BLMINT_EXCHANGE_CONNECT_CONFIGURATION_OPENTELEMETRYENDPOINT: https://open-telemetry.blexchangepreprod.berger-levrault.com
      BLMINT_EXCHANGE_CONNECT_CONFIGURATION_OPENTELEMETRYUSERNAME: ENC_X(odXQHcGjL8kNodgS33us/+5hSjhcBMyIq4mjlIRxqKGFrXa8whM6SR8sZ8UlHElB)
      BLMINT_EXCHANGE_CONNECT_CONFIGURATION_OPENTELEMETRYPASSWORD: ENC_X(fQj7ahz+Af5TeGOtkDPfsfB4qtCClE1dfT6KQiriTj+/jBs4OU71vthvSPmTg4iw)
      BLMINT_EXCHANGE_CONNECT_AUTH_USERNAME: ENC_X(3cdyh9Wdr34x1s83mtgWK73aK26HnC6rp5v4XOhpm7SaIxOCKa5htHLNXxbrchFvCCZR3iChZa7N33uwmmihZMZbQwS/63vatQ8mIHyofKI=)
      BLMINT_EXCHANGE_CONNECT_AUTH_PASSWORD: ENC_X(ybOMWxd3ASxByPCVjq8v7iNiLY2fWSODLQHwAJK0fpClct2qCSxgfN3Gf3njclAqic+XjSONteK4AkQ9KPvTgQ==)
      BLMINT_EXCHANGE_CONNECT_AUTH_CLIENTID: ENC_X(IclskDzXyHaYB4SL7wy7kxG40OtXhqRLNv2il+hSqBXWllaqU9XXRpq7TFZS2YHwzjrug2/7Y+Dfm73OZhVK0g==)
      BLMINT_EXCHANGE_CONNECT_AUTH_CLIENTSECRET: ENC_X(JnNyAYQ/c6TqX11ASb0jENj16ya6fKKV1ubOrL/HjYt3/S0WgarVNtRzgkjJ263Hvi2u5FUdpJUITuZRBhnGJRDtmpxVM/Jd3RRsnW/xkfA=)
      BLMINT_EXCHANGE_CONNECT_AUTH_BLSECURITYURL: ENC_X(0yHGMdgzVxhYRvqmW1jRQBFgd2tWtiMVUnnoCkvlFdqy4fVmxIXePKMvT7UN7Ntb+PKLvX8bqljFW59Nk4BuQp6KxLH3v0O8u35m7AGFZno=)
      BLMINT_EXCHANGE_CONSUMERS_CONTEXTCONSUMER_DOMAIN: diac
      BLMINT_EXCHANGE_CONSUMERS_CONTEXTCONSUMER_SUBJECT: diac_context-created
      BLMINT_EXCHANGE_CONSUMERS_STRUCTURECONSUMER_DOMAIN: diac
      BLMINT_EXCHANGE_CONSUMERS_STRUCTURECONSUMER_SUBJECT: diac_structures-wemagnus
      BLMINT_EXCHANGE_PRODUCERS_CONTEXTPRODUCER_DOMAIN: diac
      BLMINT_EXCHANGE_PRODUCERS_CONTEXTPRODUCER_SUBJECT: diac_create-context
